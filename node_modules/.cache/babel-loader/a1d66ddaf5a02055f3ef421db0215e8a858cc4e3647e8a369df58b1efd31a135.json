{"ast":null,"code":"export default {\n  name: 'ForumPage',\n  data() {\n    return {\n      activeIndex: '5',\n      postContent: '',\n      commentContent: {},\n      posts: [{\n        id: 1,\n        username: '求职者A',\n        userAvatar: 'https://picsum.photos/200/200?random=10',\n        content: '今天去面试了一家不错的公司，面试过程很顺利，希望能拿到offer！',\n        time: '2小时前',\n        likesCount: 15,\n        liked: false,\n        showComments: false,\n        comments: [{\n          id: 1,\n          username: '求职者B',\n          userAvatar: 'https://picsum.photos/200/200?random=11',\n          content: '恭喜！祝拿到offer！',\n          time: '1小时前'\n        }, {\n          id: 2,\n          username: '求职者C',\n          userAvatar: 'https://picsum.photos/200/200?random=12',\n          content: '是哪家公司呀？分享一下面试经验呗',\n          time: '45分钟前'\n        }]\n      }, {\n        id: 2,\n        username: '职场达人',\n        userAvatar: 'https://picsum.photos/200/200?random=13',\n        content: '给大家分享一个面试技巧：面试前一定要研究公司的业务和产品，这样能让面试官觉得你对公司很感兴趣。',\n        time: '昨天',\n        likesCount: 32,\n        liked: false,\n        showComments: false,\n        comments: [{\n          id: 3,\n          username: '新人求助',\n          userAvatar: 'https://picsum.photos/200/200?random=14',\n          content: '谢谢分享！学到了',\n          time: '昨天'\n        }]\n      }, {\n        id: 3,\n        username: '程序员小明',\n        userAvatar: 'https://picsum.photos/200/200?random=15',\n        content: '有没有前端开发的面试题分享？马上要面试了，紧张！',\n        time: '3天前',\n        likesCount: 8,\n        liked: false,\n        showComments: false,\n        comments: [{\n          id: 4,\n          username: '前端大佬',\n          userAvatar: 'https://picsum.photos/200/200?random=16',\n          content: '主要准备Vue和React的原理，还有性能优化方面的知识',\n          time: '3天前'\n        }]\n      }]\n    };\n  },\n  computed: {\n    isLoggedIn() {\n      return this.$store.getters.isLoggedIn || true; // 模拟登录状态\n    },\n    currentUser() {\n      return this.$store.getters.currentUser || {\n        username: '当前用户',\n        role: 1\n      }; // 模拟用户数据\n    }\n  },\n  methods: {\n    handleSelect(key) {\n      switch (key) {\n        case '1':\n          this.$router.push('/');\n          break;\n        case '2':\n          this.$router.push('/jobs');\n          break;\n        case '3':\n          this.$router.push('/companies');\n          break;\n        case '4':\n          this.$router.push('/chat');\n          break;\n        case '5':\n          this.$router.push('/forum');\n          break;\n        case '6':\n          this.$router.push('/login');\n          break;\n        case '7':\n          this.$router.push('/register');\n          break;\n        case '8-1':\n          this.$router.push('/user');\n          break;\n        case '8-2':\n          this.$router.push('/admin');\n          break;\n      }\n    },\n    logout() {\n      this.$store.dispatch('logout');\n      this.$message.success('退出登录成功');\n      this.$router.push('/');\n    },\n    createPost() {\n      if (!this.postContent.trim()) {\n        this.$message.warning('内容不能为空');\n        return;\n      }\n      const newPost = {\n        id: this.posts.length + 1,\n        username: this.currentUser.username,\n        userAvatar: `https://picsum.photos/200/200?random=${Math.floor(Math.random() * 100)}`,\n        content: this.postContent,\n        time: '刚刚',\n        likesCount: 0,\n        liked: false,\n        showComments: false,\n        comments: []\n      };\n      this.posts.unshift(newPost);\n      this.postContent = '';\n      this.$message.success('发布成功');\n    },\n    toggleLike(postId) {\n      const post = this.posts.find(p => p.id === postId);\n      if (post) {\n        if (post.liked) {\n          post.likesCount--;\n        } else {\n          post.likesCount++;\n        }\n        post.liked = !post.liked;\n      }\n    },\n    toggleComment(postId) {\n      const post = this.posts.find(p => p.id === postId);\n      if (post) {\n        post.showComments = !post.showComments;\n        // 初始化评论输入框\n        if (!this.commentContent[postId]) {\n          this.commentContent[postId] = '';\n        }\n      }\n    },\n    addComment(postId) {\n      const content = this.commentContent[postId];\n      if (!content.trim()) {\n        this.$message.warning('评论内容不能为空');\n        return;\n      }\n      const post = this.posts.find(p => p.id === postId);\n      if (post) {\n        const newComment = {\n          id: post.comments.length + 1,\n          username: this.currentUser.username,\n          userAvatar: `https://picsum.photos/200/200?random=${Math.floor(Math.random() * 100)}`,\n          content: content,\n          time: '刚刚'\n        };\n        post.comments.push(newComment);\n        this.commentContent[postId] = '';\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","data","activeIndex","postContent","commentContent","posts","id","username","userAvatar","content","time","likesCount","liked","showComments","comments","computed","isLoggedIn","$store","getters","currentUser","role","methods","handleSelect","key","$router","push","logout","dispatch","$message","success","createPost","trim","warning","newPost","length","Math","floor","random","unshift","toggleLike","postId","post","find","p","toggleComment","addComment","newComment"],"sources":["src/views/Forum.vue"],"sourcesContent":["<template>\n  <div class=\"forum-container\">\n    <!-- 导航栏 -->\n    <el-menu :default-active=\"activeIndex\" class=\"el-menu-demo\" mode=\"horizontal\" @select=\"handleSelect\">\n      <el-menu-item index=\"1\">首页</el-menu-item>\n      <el-menu-item index=\"2\">职位</el-menu-item>\n      <el-menu-item index=\"3\">企业</el-menu-item>\n      <el-menu-item index=\"4\">消息</el-menu-item>\n      <el-menu-item index=\"5\">论坛</el-menu-item>\n      <el-menu-item index=\"6\" v-if=\"!isLoggedIn\">登录</el-menu-item>\n      <el-menu-item index=\"7\" v-if=\"!isLoggedIn\">注册</el-menu-item>\n      <el-submenu index=\"8\" v-if=\"isLoggedIn\">\n        <template slot=\"title\">{{ currentUser.username }}</template>\n        <el-menu-item index=\"8-1\">个人中心</el-menu-item>\n        <el-menu-item index=\"8-2\" v-if=\"currentUser.role === 2\">管理员面板</el-menu-item>\n        <el-menu-item index=\"8-3\" @click=\"logout\">退出登录</el-menu-item>\n      </el-submenu>\n    </el-menu>\n\n    <div class=\"forum-content\">\n      <!-- 发布动态区域 -->\n      <div class=\"post-create\">\n        <el-card>\n          <div slot=\"header\" class=\"clearfix\">\n            <span>发布动态</span>\n          </div>\n          <div class=\"post-form\">\n            <el-input\n              v-model=\"postContent\"\n              type=\"textarea\"\n              placeholder=\"分享你的求职经验、面试技巧或职场感悟...\"\n              :rows=\"4\"\n            ></el-input>\n            <div class=\"post-actions\">\n              <el-button type=\"primary\" @click=\"createPost\">发布</el-button>\n            </div>\n          </div>\n        </el-card>\n      </div>\n\n      <!-- 动态列表 -->\n      <div class=\"posts-list\">\n        <h3>最新动态</h3>\n        <el-card v-for=\"post in posts\" :key=\"post.id\" class=\"post-card\">\n          <div class=\"post-header\">\n            <img :src=\"post.userAvatar\" alt=\"用户头像\" class=\"user-avatar\">\n            <div class=\"user-info\">\n              <div class=\"username\">{{ post.username }}</div>\n              <div class=\"post-time\">{{ post.time }}</div>\n            </div>\n          </div>\n          <div class=\"post-content\">\n            {{ post.content }}\n          </div>\n          <div class=\"post-actions\">\n            <div class=\"action-item\" @click=\"toggleLike(post.id)\">\n              <i :class=\"{ 'el-icon-heart': !post.liked, 'el-icon-heart-on': post.liked }\" :style=\"{ color: post.liked ? '#ff4d4f' : '' }\"></i>\n              <span>{{ post.likesCount }}</span>\n            </div>\n            <div class=\"action-item\" @click=\"toggleComment(post.id)\">\n              <i class=\"el-icon-chat-dot-round\"></i>\n              <span>{{ post.comments.length }}</span>\n            </div>\n          </div>\n          <!-- 评论区域 -->\n          <div class=\"comments-section\" v-if=\"post.showComments\">\n            <div v-for=\"comment in post.comments\" :key=\"comment.id\" class=\"comment-item\">\n              <img :src=\"comment.userAvatar\" alt=\"评论用户头像\" class=\"comment-avatar\">\n              <div class=\"comment-content\">\n                <div class=\"comment-header\">\n                  <span class=\"comment-username\">{{ comment.username }}</span>\n                  <span class=\"comment-time\">{{ comment.time }}</span>\n                </div>\n                <div class=\"comment-text\">{{ comment.content }}</div>\n              </div>\n            </div>\n            <div class=\"add-comment\">\n              <el-input\n                v-model=\"commentContent[post.id]\"\n                placeholder=\"添加评论...\"\n                @keyup.enter.native=\"addComment(post.id)\"\n              ></el-input>\n              <el-button size=\"small\" type=\"primary\" @click=\"addComment(post.id)\">发送</el-button>\n            </div>\n          </div>\n        </el-card>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ForumPage',\n  data() {\n    return {\n      activeIndex: '5',\n      postContent: '',\n      commentContent: {},\n      posts: [\n        {\n          id: 1,\n          username: '求职者A',\n          userAvatar: 'https://picsum.photos/200/200?random=10',\n          content: '今天去面试了一家不错的公司，面试过程很顺利，希望能拿到offer！',\n          time: '2小时前',\n          likesCount: 15,\n          liked: false,\n          showComments: false,\n          comments: [\n            {\n              id: 1,\n              username: '求职者B',\n              userAvatar: 'https://picsum.photos/200/200?random=11',\n              content: '恭喜！祝拿到offer！',\n              time: '1小时前'\n            },\n            {\n              id: 2,\n              username: '求职者C',\n              userAvatar: 'https://picsum.photos/200/200?random=12',\n              content: '是哪家公司呀？分享一下面试经验呗',\n              time: '45分钟前'\n            }\n          ]\n        },\n        {\n          id: 2,\n          username: '职场达人',\n          userAvatar: 'https://picsum.photos/200/200?random=13',\n          content: '给大家分享一个面试技巧：面试前一定要研究公司的业务和产品，这样能让面试官觉得你对公司很感兴趣。',\n          time: '昨天',\n          likesCount: 32,\n          liked: false,\n          showComments: false,\n          comments: [\n            {\n              id: 3,\n              username: '新人求助',\n              userAvatar: 'https://picsum.photos/200/200?random=14',\n              content: '谢谢分享！学到了',\n              time: '昨天'\n            }\n          ]\n        },\n        {\n          id: 3,\n          username: '程序员小明',\n          userAvatar: 'https://picsum.photos/200/200?random=15',\n          content: '有没有前端开发的面试题分享？马上要面试了，紧张！',\n          time: '3天前',\n          likesCount: 8,\n          liked: false,\n          showComments: false,\n          comments: [\n            {\n              id: 4,\n              username: '前端大佬',\n              userAvatar: 'https://picsum.photos/200/200?random=16',\n              content: '主要准备Vue和React的原理，还有性能优化方面的知识',\n              time: '3天前'\n            }\n          ]\n        }\n      ]\n    };\n  },\n  computed: {\n    isLoggedIn() {\n      return this.$store.getters.isLoggedIn || true; // 模拟登录状态\n    },\n    currentUser() {\n      return this.$store.getters.currentUser || { username: '当前用户', role: 1 }; // 模拟用户数据\n    }\n  },\n  methods: {\n    handleSelect(key) {\n      switch(key) {\n        case '1':\n          this.$router.push('/');\n          break;\n        case '2':\n          this.$router.push('/jobs');\n          break;\n        case '3':\n          this.$router.push('/companies');\n          break;\n        case '4':\n          this.$router.push('/chat');\n          break;\n        case '5':\n          this.$router.push('/forum');\n          break;\n        case '6':\n          this.$router.push('/login');\n          break;\n        case '7':\n          this.$router.push('/register');\n          break;\n        case '8-1':\n          this.$router.push('/user');\n          break;\n        case '8-2':\n          this.$router.push('/admin');\n          break;\n      }\n    },\n    logout() {\n      this.$store.dispatch('logout');\n      this.$message.success('退出登录成功');\n      this.$router.push('/');\n    },\n    createPost() {\n      if (!this.postContent.trim()) {\n        this.$message.warning('内容不能为空');\n        return;\n      }\n\n      const newPost = {\n        id: this.posts.length + 1,\n        username: this.currentUser.username,\n        userAvatar: `https://picsum.photos/200/200?random=${Math.floor(Math.random() * 100)}`,\n        content: this.postContent,\n        time: '刚刚',\n        likesCount: 0,\n        liked: false,\n        showComments: false,\n        comments: []\n      };\n\n      this.posts.unshift(newPost);\n      this.postContent = '';\n      this.$message.success('发布成功');\n    },\n    toggleLike(postId) {\n      const post = this.posts.find(p => p.id === postId);\n      if (post) {\n        if (post.liked) {\n          post.likesCount--;\n        } else {\n          post.likesCount++;\n        }\n        post.liked = !post.liked;\n      }\n    },\n    toggleComment(postId) {\n      const post = this.posts.find(p => p.id === postId);\n      if (post) {\n        post.showComments = !post.showComments;\n        // 初始化评论输入框\n        if (!this.commentContent[postId]) {\n          this.commentContent[postId] = '';\n        }\n      }\n    },\n    addComment(postId) {\n      const content = this.commentContent[postId];\n      if (!content.trim()) {\n        this.$message.warning('评论内容不能为空');\n        return;\n      }\n\n      const post = this.posts.find(p => p.id === postId);\n      if (post) {\n        const newComment = {\n          id: post.comments.length + 1,\n          username: this.currentUser.username,\n          userAvatar: `https://picsum.photos/200/200?random=${Math.floor(Math.random() * 100)}`,\n          content: content,\n          time: '刚刚'\n        };\n\n        post.comments.push(newComment);\n        this.commentContent[postId] = '';\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.forum-container {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.forum-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 20px;\n  background-color: #f5f7fa;\n}\n\n.post-create {\n  margin-bottom: 30px;\n}\n\n.post-form {\n  margin-top: 15px;\n}\n\n.post-actions {\n  text-align: right;\n  margin-top: 10px;\n}\n\n.posts-list h3 {\n  font-size: 20px;\n  margin-bottom: 15px;\n  color: #333;\n}\n\n.post-card {\n  margin-bottom: 20px;\n}\n\n.post-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 15px;\n}\n\n.user-avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  margin-right: 10px;\n}\n\n.user-info {\n  flex: 1;\n}\n\n.username {\n  font-weight: bold;\n  margin-bottom: 2px;\n}\n\n.post-time {\n  font-size: 12px;\n  color: #999;\n}\n\n.post-content {\n  margin-bottom: 15px;\n  line-height: 1.6;\n}\n\n.post-actions {\n  display: flex;\n  justify-content: space-between;\n  padding-top: 10px;\n  border-top: 1px solid #f0f0f0;\n}\n\n.action-item {\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  color: #666;\n}\n\n.action-item i {\n  margin-right: 5px;\n}\n\n.comments-section {\n  margin-top: 15px;\n  padding-top: 15px;\n  border-top: 1px solid #f0f0f0;\n}\n\n.comment-item {\n  display: flex;\n  margin-bottom: 15px;\n}\n\n.comment-avatar {\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  margin-right: 10px;\n}\n\n.comment-content {\n  flex: 1;\n  background-color: #f5f5f5;\n  padding: 10px;\n  border-radius: 8px;\n}\n\n.comment-header {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 5px;\n}\n\n.comment-username {\n  font-weight: bold;\n  font-size: 14px;\n}\n\n.comment-time {\n  font-size: 12px;\n  color: #999;\n}\n\n.comment-text {\n  font-size: 14px;\n  line-height: 1.5;\n}\n\n.add-comment {\n  display: flex;\n  margin-top: 15px;\n}\n\n.add-comment .el-input {\n  flex: 1;\n  margin-right: 10px;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}